
@model IEnumerable<ProyectoFinal.Entities.UsuariosEnt>

@{
    ViewBag.Title = "ConsultarUsuarios";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">

    <div class="col-md-1 grid-margin stretch-card">
    </div>

    <div class="col-md-10 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Usuarios</h4>

                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Identificación</th>
                            <th>Nombre</th>
                            <th>Correo Electrónico</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@item.Identificacion</td>
                                <td>@item.Nombre</td>
                                <td>@item.CorreoElectronico</td>

                                @if (@item.Estado)
                                {
                                    <td>Activo</td>
                                }
                                else
                                {
                                    <td>Inactivo</td>
                                }

                                <td>
                                    <a href="@Url.Action("ActualizarUsuarios","Usuarios", new { q = item.ConsecutivoUsuario })" class="ti-reload"></a>

                                    <a href="#" class="ti-trash openModal" data-toggle="modal" data-target="#exampleModalCenter"
                                       data-backdrop="static" data-keyboard="false" data-id=@item.ConsecutivoUsuario></a>

                                <td />
                            </tr>
                        }

                    </tbody>
                </table>

            </div>
        </div>
    </div>

</div>

<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">Cambiar Estado</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ¿Desea cambiar el estado actual del usuario?
                <input type="hidden" id="idModalHidden">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="CambiarEstadoUsuario();">Aceptar</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="~/FuncionesJS/Usuarios.js"></script>